<Window x:Class="Casino.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Casino - Saioa hastea"
        Width="400" Height="320"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize">
    <Window.Resources>
        <!-- Converter estandar de WPF -->
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />

        <Style TargetType="TextBox">
            <Setter Property="Margin" Value="0,4,0,4" />
            <Setter Property="Height" Value="26" />
        </Style>

        <Style TargetType="PasswordBox">
            <Setter Property="Margin" Value="0,4,0,4" />
            <Setter Property="Height" Value="26" />
        </Style>

        <Style TargetType="Button">
            <Setter Property="Margin" Value="4" />
            <Setter Property="MinWidth" Value="90" />
            <Setter Property="Height" Value="28" />
        </Style>
    </Window.Resources>

    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Titulo -->
        <TextBlock Text="Casino - Saioa hastea"
                   FontSize="18"
                   FontWeight="Bold"
                   HorizontalAlignment="Center"
                   Margin="0,0,0,12" />

        <!-- Contenido -->
        <StackPanel Grid.Row="1">
            <TextBlock Text="Erabiltzaile izena:" />
            <TextBox Text="{Binding UserName, UpdateSourceTrigger=PropertyChanged}" />

            <TextBlock Text="Pasahitza:" Margin="0,8,0,0" />
            <PasswordBox x:Name="PasswordBox"
                         PasswordChanged="PasswordBox_OnPasswordChanged" />

            <!-- Solo visible en modo registro -->
            <StackPanel Margin="0,8,0,0"
                        Visibility="{Binding IsRegisterMode,
                                             Converter={StaticResource BooleanToVisibilityConverter},
                                             FallbackValue=Collapsed}">
                <TextBlock Text="Pasahitza berretsi:" />
                <PasswordBox x:Name="ConfirmPasswordBox"
                             PasswordChanged="ConfirmPasswordBox_OnPasswordChanged" />
            </StackPanel>

            <TextBlock Text="{Binding StatusMessage}"
                       Foreground="Red"
                       TextWrapping="Wrap"
                       Margin="0,8,0,0" />
        </StackPanel>

        <!-- Botones -->
        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    Margin="0,12,0,0">
            <!-- Aceptar -->
            <Button Content="Onartu"
                    Click="SubmitButton_OnClick"
                    IsDefault="True" />

            <!-- Cambiar entre login y registro -->
            <Button x:Name="ToggleModeButton"
                    Content="Kontua sortu"
                    Click="ToggleModeButton_OnClick" />

            <!-- Cancelar -->
            <Button Content="Ezeztatu"
                    Click="CancelButton_OnClick"
                    IsCancel="True" />
        </StackPanel>
    </Grid>
</Window>